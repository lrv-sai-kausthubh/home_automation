<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Home Controller</title>
    <link rel="stylesheet" href="esp.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- NAVIGATION -->
    <nav>
        <div class="nav-left">
            <div class="logo">
                <span class="material-icons">memory</span>
                <span>SmartConnect</span>
            </div>
        </div>
        <div class="nav-center">
            <button class="nav-tab active" data-tab="dashboard">
                <span class="material-icons">dashboard</span>
                <span>Dashboard</span>
            </button>
            <button class="nav-tab" data-tab="configure">
                <span class="material-icons">settings</span>
                <span>Configure</span>
            </button>
            <button class="nav-tab" data-tab="overview">
                <span class="material-icons">info</span>
                <span>Pin Overview</span>
            </button>
        </div>
        <div class="nav-right">
            <div class="status-badge" id="statusBadge">
                <span class="dot"></span>
                <span id="statusText">Connecting...</span>
            </div>
        </div>
    </nav>

    <!-- WELCOME MODAL (First Time) -->
    <div id="welcomeModal" class="modal">
        <div class="modal-content welcome-modal">
            <div class="welcome-header">
                <span class="material-icons welcome-icon">router</span>
                <h2>Welcome to SmartConnect</h2>
                <p class="subtitle">ESP32 Home Automation Controller</p>
            </div>

            <div class="quick-overview">
                <h4><span class="material-icons">bolt</span> Quick Pin Overview</h4>
                <div class="overview-grid">
                    <div class="overview-card safe">
                        <span class="material-icons">check_circle</span>
                        <div>
                            <strong>Safe to Use</strong>
                            <p>GPIO 4, 5, 12-19, 21-23, 25-27, 32-33</p>
                        </div>
                    </div>
                    <div class="overview-card caution">
                        <span class="material-icons">warning</span>
                        <div>
                            <strong>Use with Caution</strong>
                            <p>GPIO 0, 2, 15 (Boot pins)</p>
                        </div>
                    </div>
                    <div class="overview-card danger">
                        <span class="material-icons">dangerous</span>
                        <div>
                            <strong>Avoid</strong>
                            <p>GPIO 1, 3 (Serial TX/RX)</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="configured-pins-preview">
                <h4><span class="material-icons">star</span> Your Configured Pins</h4>
                <div id="configuredPreview" class="preview-list"></div>
            </div>

            <button id="startDashboard" class="primary-btn large">
                <span class="material-icons">arrow_forward</span>
                Go to Dashboard
            </button>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <main>
        <!-- DASHBOARD TAB -->
        <section id="dashboardTab" class="tab-content active">
            <div class="section-header">
                <h2><span class="material-icons">star</span> Priority Controls</h2>
                <p>Your configured smart devices</p>
            </div>
            <div id="priorityContainer" class="card-grid"></div>

            <div class="section-header">
                <h2><span class="material-icons">grid_view</span> Expansion Pins</h2>
                <p>Additional GPIO controls</p>
            </div>
            <div id="standardContainer" class="standard-grid"></div>
        </section>

        <!-- CONFIGURE TAB -->
        <section id="configureTab" class="tab-content">
            <div class="section-header">
                <h2><span class="material-icons">tune</span> Pin Configuration</h2>
                <p>Customize your pin names and types</p>
            </div>

            <div class="config-container">
                <div class="config-panel">
                    <h3>Edit Pin Settings</h3>
                    <div class="config-form">
                        <div class="form-group">
                            <label>Select Pin</label>
                            <select id="pinSelect"></select>
                        </div>
                        <div class="form-group">
                            <label>Display Name</label>
                            <input type="text" id="pinName" placeholder="e.g., Living Room Light">
                        </div>
                        <div class="form-group">
                            <label>Pin Type</label>
                            <select id="pinType">
                                <option value="default">Standard (Gray)</option>
                                <option value="red-light">Priority - Red</option>
                                <option value="blue-light">Priority - Blue</option>
                                <option value="green-light">Priority - Green</option>
                                <option value="yellow-light">Priority - Yellow</option>
                                <option value="purple-light">Priority - Purple</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Icon</label>
                            <select id="pinIcon">
                                <option value="lightbulb">üí° Light Bulb</option>
                                <option value="bed">üõèÔ∏è Bedroom</option>
                                <option value="restaurant">üç≥ Kitchen</option>
                                <option value="living">üõãÔ∏è Living Room</option>
                                <option value="garage">üöó Garage</option>
                                <option value="yard">üå≥ Garden</option>
                                <option value="power_settings_new">‚ö° Power</option>
                                <option value="air">‚ùÑÔ∏è AC/Fan</option>
                                <option value="tv">üì∫ TV/Entertainment</option>
                            </select>
                        </div>
                        <button id="saveConfig" class="primary-btn">
                            <span class="material-icons">save</span>
                            Save Configuration
                        </button>
                    </div>
                </div>

                <div class="config-preview">
                    <h3>Current Configuration</h3>
                    <div id="configList" class="config-list"></div>
                    <button id="resetConfig" class="secondary-btn">
                        <span class="material-icons">restart_alt</span>
                        Reset to Default
                    </button>
                </div>
            </div>
        </section>

        <!-- OVERVIEW TAB -->
        <section id="overviewTab" class="tab-content">
            <div class="section-header">
                <h2><span class="material-icons">developer_board</span> ESP32 Pin Overview</h2>
                <p>Quick reference for GPIO capabilities</p>
            </div>

            <div class="overview-container">
                <div class="pin-category">
                    <div class="category-header safe">
                        <span class="material-icons">check_circle</span>
                        <h3>Safe for General Use</h3>
                    </div>
                    <div class="pin-list">
                        <div class="pin-item">
                            <span class="pin-number">GPIO 4</span>
                            <span class="pin-desc">ADC, Touch</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 5</span>
                            <span class="pin-desc">VSPI SS</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 12</span>
                            <span class="pin-desc">ADC, Touch, HSPI</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 13</span>
                            <span class="pin-desc">ADC, Touch, HSPI</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 14</span>
                            <span class="pin-desc">ADC, Touch, HSPI</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 16</span>
                            <span class="pin-desc">General Purpose</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 17</span>
                            <span class="pin-desc">General Purpose</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 18</span>
                            <span class="pin-desc">VSPI SCK</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 19</span>
                            <span class="pin-desc">VSPI MISO</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 21</span>
                            <span class="pin-desc">I2C SDA</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 22</span>
                            <span class="pin-desc">I2C SCL</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 23</span>
                            <span class="pin-desc">VSPI MOSI</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 25</span>
                            <span class="pin-desc">ADC, DAC</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 26</span>
                            <span class="pin-desc">ADC, DAC</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 27</span>
                            <span class="pin-desc">ADC, Touch</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 32</span>
                            <span class="pin-desc">ADC, Touch</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 33</span>
                            <span class="pin-desc">ADC, Touch</span>
                        </div>
                    </div>
                </div>

                <div class="pin-category">
                    <div class="category-header caution">
                        <span class="material-icons">warning</span>
                        <h3>Boot Pins - Use with Caution</h3>
                    </div>
                    <div class="pin-list">
                        <div class="pin-item">
                            <span class="pin-number">GPIO 0</span>
                            <span class="pin-desc">Boot mode select - Must be HIGH for normal boot</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 2</span>
                            <span class="pin-desc">Boot mode - Connected to onboard LED</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 15</span>
                            <span class="pin-desc">Boot log output - Outputs debug on boot</span>
                        </div>
                    </div>
                </div>

                <div class="pin-category">
                    <div class="category-header danger">
                        <span class="material-icons">dangerous</span>
                        <h3>Avoid These Pins</h3>
                    </div>
                    <div class="pin-list">
                        <div class="pin-item">
                            <span class="pin-number">GPIO 1</span>
                            <span class="pin-desc">TX - Used for Serial communication</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 3</span>
                            <span class="pin-desc">RX - Used for Serial communication</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-number">GPIO 6-11</span>
                            <span class="pin-desc">Connected to SPI Flash - DO NOT USE</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- TOAST NOTIFICATION -->
    <div id="toast" class="toast"></div>

    <script src="esp.js"></script>
</body>

</html>